# 20.30 UI SSO Flow Checklist

## OIDC Flow
- [ ] Authorization Code + PKCE enabled
- [ ] Redirect URI exact match configured in IdP
- [ ] State + nonce validated
- [ ] Token exchange occurs server-side where possible

## Session Security
- [ ] No access/refresh tokens in localStorage/sessionStorage
- [ ] Session cookie has `Secure`, `HttpOnly`, `SameSite` flags
- [ ] Access token TTL short-lived (15-30m baseline)

## Claims and RBAC
- [ ] `groups` claim present in access token
- [ ] UI uses groups only for UX, not authorization enforcement
- [ ] Gateway returns 403 for unauthorized access

## MFA and Logout
- [ ] Tier 0/1 users challenged for MFA at IdP
- [ ] Logout clears UI session cookie
- [ ] IdP end-session endpoint invoked (where supported)

## Negative Tests
- [ ] User without project group denied project data
- [ ] Direct backend service access blocked from user workstation
