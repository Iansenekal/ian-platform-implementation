# 82.80 LLM Pointer Server Verification Checklist (Ollama Health, Model Load, Latency, Firewall Proof)

Document ID: `docs/82-LLM-Pointer-Server/82.80-Verification-Checklist`  
Version: `v1.0`  
Date: `2026-02-10`  
Owner: `Platform Ops`  
Status: `Mandatory verification`

## Purpose
Provide mandatory post-install verification for `ai-llm01` after 82.30, 82.40, and 82.60 controls.

## Inputs (current rollout)
- `ai-llm01`: `10.10.5.177`
- `AI-DATA01`: `10.10.5.181`
- `AI-FRONTEND01` (if allowlisted): `10.10.5.180`
- Admin SSH allowlist: `10.10.5.10-15`
- `OLLAMA_PORT`: `11434`
- `SSH_PORT`: `22`
- Test model: US/EU allowlisted model only

## Evidence Capture Rule
- Evidence path on `ai-llm01`: `/opt/ollama/logs/verification/`
- Create path:
  - `sudo mkdir -p /opt/ollama/logs/verification`
  - `sudo chown -R ollama:ollama /opt/ollama/logs/verification`
- Optional full session capture:
  - `script -a /opt/ollama/logs/verification/82.80-verify-$(date +%F_%H%M%S).log`

## Repo Automation
- Inputs: `infrastructure/ollama-gpu/82.80-verification-inputs.env.example`
- Verify runner: `infrastructure/ollama-gpu/82.80-verification-run.sh`
- Evidence checklist: `infrastructure/ollama-gpu/82.80-evidence-checklist.md`

## Mandatory Checks
1. Host baseline (`hostnamectl`, `ip -br addr`, `ip r`, `resolvectl status`).
2. Security proof (`ufw status verbose/numbered`, `ss -tulpen`).
3. Ollama service health (`ollama --version`, `systemctl`, `journalctl`).
4. API health (`/api/tags` local and remote policy-based checks).
5. Model governance (`ollama list` aligned with allowlist and inventory evidence).
6. Model load sanity (`ollama run <model> "Reply with the single word OK."`).
7. Latency sanity (`time curl` tags + generate endpoint).
8. GPU sanity (`lspci`, `lsmod`, `/dev/dri`, `/dev/kfd`, optional `rocm-smi`).

## Client Rollout Variables
- Test model chosen: US/EU allowlisted model only.
- Allowlisted caller IPs: `10.10.5.180` + `10.10.5.181`.
- Latency thresholds: standard LAN baseline.
- Evidence pack path: `/opt/ollama/logs/verification/` and exported evidence bundle per `06.40`.

## Execution
1. Copy/fill env file.
2. Run verifier:
   - `bash infrastructure/ollama-gpu/82.80-verification-run.sh --env-file infrastructure/ollama-gpu/82.80-verification-inputs.env`
3. Archive captured outputs and checklist artifacts.
