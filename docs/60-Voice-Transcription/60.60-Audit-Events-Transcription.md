# AI Platform Deployment Documentation
## 60.60 Voice + Transcription - Audit Events (Transcription Lifecycle)

LAN-only runtime - POPIA-friendly - Non-repudiation-friendly audit trail

Document Control
- Document ID: `docs/60-Voice-Transcription/60.60-Audit-Events-Transcription`
- Filename: `docs/60-Voice-Transcription/60.60-Audit-Events-Transcription.md`
- Version: `v1.0`
- Date: `2026-02-10`
- Owner: Security + Compliance
- Status: Security Standard
- Hard requirements: auditable state changes; tamper-evident logs; least content in logs; aligned retention
- Related docs: `03.30`, `03.40`, `60.30`, `60.40`, `70.*`, `50.*`

## 1. Audit Objectives and Constraints
- provide complete, attributable timelines for voice artifact and transcript actions
- support compliance evidence packs and management sign-off workflows
- record metadata only, never full transcript or audio content in logs
- support investigation context: actor, action, time, source, policy basis
- preserve tamper-evident audit streams with restricted access

## 2. Audit Trail Principles
- metadata-first logging: identifiers, paths, hashes, policy references, and decisions
- stable IDs: `recording_id` and `job_id` across all lifecycle events
- accurate time: synchronized NTP and normalized UTC timestamps
- separation of duties: reviewer and export-approver decisions are explicit and attributable
- restricted access: auditor/security/compliance read-only visibility only

## 3. Event Taxonomy and Mandatory Fields
### 3.1 Event categories
- `VOICE_FILE_*`
- `VOICE_JOB_*`
- `VOICE_REVIEW_*`
- `VOICE_INDEX_*`
- `VOICE_EXPORT_*`
- `VOICE_RETENTION_*`
- `VOICE_SECURITY_*`

### 3.2 Mandatory fields
- `event_id`
- `event_type`
- `timestamp_utc`
- `actor_type`
- `actor_id`
- `actor_roles`
- `source_ip` (where feasible)
- `tenant_id`
- `project_code`
- `recording_id` and/or `job_id`
- `object_path`
- `sensitivity_label`
- `retention_class`
- `result`
- `correlation_id`

### 3.3 Recommended fields
- `user_agent`
- `auth_context`
- `policy_version`
- `object_hash`
- `error_code`
- `error_detail`

## 4. Event Set by Lifecycle Stage
### 4.1 Upload and intake
- `VOICE_FILE_UPLOADED`
- `VOICE_FILE_METADATA_SET`
- `VOICE_FILE_MOVED_STATE`
- `VOICE_FILE_DELETED`
- `VOICE_FILE_SHARED`

### 4.2 Transcription jobs
- `VOICE_JOB_CREATED`
- `VOICE_JOB_CLAIMED`
- `VOICE_JOB_STARTED`
- `VOICE_JOB_PROGRESS`
- `VOICE_JOB_COMPLETED`
- `VOICE_JOB_FAILED`

### 4.3 Review and redaction
- `VOICE_REVIEW_ASSIGNED`
- `VOICE_REVIEW_OPENED`
- `VOICE_REDACTION_APPLIED`
- `VOICE_REVIEW_APPROVED`
- `VOICE_REVIEW_REJECTED`
- `VOICE_RECLASSIFIED`

### 4.4 Indexing and graph
- `VOICE_INDEX_QUEUED`
- `VOICE_INDEX_SUCCEEDED`
- `VOICE_INDEX_FAILED`
- `VOICE_GRAPH_LINKED`
- `VOICE_INDEX_REMOVED`

### 4.5 Export approvals
- `VOICE_EXPORT_REQUESTED`
- `VOICE_EXPORT_APPROVED`
- `VOICE_EXPORT_REJECTED`
- `VOICE_EXPORT_COMPLETED`

### 4.6 Retention and purge
- `VOICE_RETENTION_ASSIGNED`
- `VOICE_LEGAL_HOLD_PLACED`
- `VOICE_LEGAL_HOLD_RELEASED`
- `VOICE_PURGE_STARTED`
- `VOICE_PURGE_COMPLETED`
- `VOICE_PURGE_FAILED`

## 5. Special Cases
- review-gated items must not emit indexing success before review approval
- export workflows require explicit approve or reject events
- held items must be skipped by purge with auditable hold reason
- reclassification is high-risk and requires compliance review cadence

## 6. Storage Locations and Retention
- primary audit stream in centralized logging (`50.*`) with restricted, tamper-evident storage
- summary records for approval/export/purge stored in Nextcloud Evidence-Pack without content
- audit-log retention generally outlives content retention and follows approved policy windows

## 7. Alerts and Detection Rules
- alert on `VOICE_FILE_SHARED`
- alert on repeated `VOICE_JOB_FAILED`
- alert on `VOICE_INDEX_QUEUED` without final/review gate compliance
- alert on `VOICE_RECLASSIFIED` for restricted items without approval reference
- alert on unauthorized voice endpoint access attempts

## 8. Verification Checklist
1. Confirm upload emits `VOICE_FILE_UPLOADED` and `VOICE_FILE_METADATA_SET`.
2. Confirm job flow emits create to complete/fail chain with `correlation_id`.
3. Confirm review-gated items do not index before `VOICE_REVIEW_APPROVED`.
4. Confirm exports always emit explicit approved or rejected events.
5. Confirm purge emits storage/index/graph outcomes.
6. Confirm logs contain metadata and hashes only, without transcript/audio content.

## 9. Client Rollout Variables
- audit log retention duration
- events copied to Evidence-Pack
- alert thresholds for failures and policy violations
- export approval chain model (single vs multi-step)
- reclassification approval requirement
