# AI Platform Deployment Documentation
## 30.70 Search + Knowledge Graph - Retention and Privacy Controls

LAN-only runtime - POPIA-friendly - Two-VM on Proxmox - Ubuntu 24.04

Document Control
- Document ID: `docs/30-Search-KnowledgeGraph/30.70-Retention-Privacy-Controls`
- Filename: `docs/30-Search-KnowledgeGraph/30.70-Retention-Privacy-Controls.md`
- Version: `v1.0`
- Date: `2026-02-09`
- Owner: Choice IT / Security + Governance
- Status: Mandatory
- Scope: retention classes, minimization, deletion propagation, privacy safeguards, audit evidence
- Hard requirements: minimization; least privilege; auditable retention; prompt deletion propagation
- Related docs: `03.40`, `03.30`, `30.15`, `30.10`
- Default stance: metadata-first; shortest feasible retention for derived data
- Note: Search/KG is derived; source-of-truth remains authoritative

## 1. Privacy Goals and POPIA Alignment
- purpose limitation for approved search/discovery use cases only
- metadata-first minimization by default
- retention limitation for derived data stores
- transparent, auditable retention and purge actions

## 2. Data Minimization Rules
Allowed by default:
- metadata fields, stable IDs, ACL group tags, approved low-risk derived tags

Allowed by policy only:
- extracted text/snippets
- entity extraction and similarity signals
- cross-system correlation enrichment

Avoid unless approved:
- full document binaries in search storage
- broad indexing of HR/medical/legal privileged content
- personal OneDrive indexing by default
- raw query logging with direct personal identifiers

## 3. Retention Buckets
- RC-01 Short (30 days): transient enrichments/snippets
- RC-02 Standard (180 days): primary metadata index records
- RC-03 Extended (365 days): approved project-critical derived records
- RC-04 Archive (730+ days): compliance-approved exceptional archives

All indexed docs and graph entities carry `retention_class` and are purged by policy.

## 4. Content Classes and Retention Guidance
- general project docs: metadata + optional content, usually RC-02
- policies/procedures: metadata + optional content, often RC-03
- contracts/legal privileged: metadata-only default, RC-02/RC-03 with legal approval for content
- HR/personnel: metadata-only default, RC-01/RC-02
- finance: metadata plus controlled optional content, typically RC-02
- temporary/staging: metadata-only with rapid RC-01 purge

## 5. Deletion Propagation (Source -> Search/KG)
Deletion triggers:
- source deletion
- ACL narrowing/removal
- out-of-scope movement due to policy changes

Required behavior:
- purge search index and graph records promptly
- prevent stale overexposure after ACL changes
- enforce out-of-scope purge

Recommended SLA:
- critical privacy scopes: same day (hours)
- standard scopes: within 24 hours

## 6. Sensitive Data Controls
- explicit exclude lists for sensitive paths/sites/libraries
- metadata-only defaults for sensitive sources
- stricter retention for any approved derived text from sensitive scopes
- person nodes disabled by default and governance-gated

## 7. Access and Audit Controls
- standard users see only authorized search/graph views
- operational diagnostics are RBAC-restricted and MFA-protected
- connector operators are limited to run logs/summaries
- audit captures purges, scope changes, and privileged diagnostics access

## 8. Operational Controls
- include OpenSearch and KG stores in backup scope
- run ACL validation after restores
- schedule retention purges and keep purge summaries
- retain deletion-propagation and purge evidence artifacts

## 9. Verification Checklist
- metadata-only default enforced for new sources
- sensitive exclusions verified as non-discoverable
- retention class assignment validated
- purge jobs run with auditable summaries
- deletion propagation meets SLA
- ACL narrowing propagation prevents stale exposure
- enrichment/person nodes remain disabled unless approved

## 10. Client Rollout Variables
- default indexing mode and per-source content-indexing exceptions
- entity/similarity enablement controls
- sensitive exclusion sets
- RC-01..RC-04 day values
- deletion propagation SLA and purge cadence
- query logging level and diagnostics access policy
- evidence repository and approver roles
