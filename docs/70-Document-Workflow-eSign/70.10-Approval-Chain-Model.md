# AI Platform Deployment Documentation
## 70.10 Document Workflow + eSign - Approval Chain Model

LAN-only - POPIA-friendly - Explicit Approve/Reject - Multi-step management sign-off

Document Control
- Document ID: `docs/70-Document-Workflow-eSign/70.10-Approval-Chain-Model`
- Filename: `docs/70-Document-Workflow-eSign/70.10-Approval-Chain-Model.md`
- Version: `v1.0`
- Date: `2026-02-10`
- Owner: Compliance + IAM
- Status: Workflow Standard
- Hard requirements: explicit decisions; deterministic chains; MFA on approvals; no self-approval; auditable decisions
- Related docs: `70.00`, `70.30`, `70.40`, `70.60`, `70.70`, `04.*`

## 1. Purpose
- standardize approval-chain design for document classes (POPIA, Safety, HR, Finance)
- model organizational hierarchy while preserving least privilege and auditability
- support both directory-integrated and local-users identity modes

## 2. Key Terms
- workflow template
- workflow instance
- approval step
- scope
- approver group
- delegation

## 3. Supported Chain Patterns
### 3.1 Fixed chain
- static ordered roles (for example Safety Officer -> HOD -> GM)
- deterministic and low operational complexity

### 3.2 Scope-derived chain
- metadata-driven routing by site/department/project/document class
- requires strict metadata validation and fail-closed submission

### 3.3 Multi-approver quorum
- support N-of-M steps
- strict or quorum-based reject behavior by policy

## 4. Mandatory Rules
- every step requires explicit Approve or Reject
- No self-approval by document author for any step
- MFA required for approvers and workflow-admin
- step ordering integrity enforced
- every decision emits auditable event with `correlation_id` and document hash reference

## 5. Standard Step Model
Required fields per step:
- `step_id`
- `step_name`
- `approver_group`
- `scope_selector`
- `decision_required`
- `reject_reason_required`
- `sla_hours`
- `escalation_rule`
- `delegation_policy`

## 6. Default POPIA Chain
1. Document Owner / Responsible Officer
2. HOD (department/project derived)
3. General Manager (site derived)
4. Optional Compliance attestation

## 7. Routing Inputs (Metadata)
- `document_type`
- `department`
- `site`
- `project_code`
- `sensitivity_label`
- `requires_quorum`

Submission must fail closed when required routing metadata is missing/invalid.

## 8. Delegation Model
- delegation requires explicit enablement and audit
- delegation must be time-bounded and approved
- delegates must satisfy MFA and no-self-approval rules
- delegation create/update/remove actions must be auditable

## 9. Reject and Rework Model
- reject reason mandatory
- reject transitions workflow to Rework
- author resubmits a new document version
- prior approvals are version-bound and do not carry by default

## 10. Local Users Mode
- approver groups maintained in IdP local groups
- scope routing maps to local groups
- strict join/leave process and periodic access review required
- break-glass accounts excluded from normal approval flows by default

## 11. Evidence and Audit Requirements
- decision records include step, approver, timestamp, decision, reject reason, document hash
- each action emits audit event per 70.70
- final approvals produce signature receipt references
- email actions (if enabled) must bind signed token and correlation ID

## 12. Verification Checklist
1. Validate POPIA template chain resolves correctly for test document.
2. Validate author approval attempts are blocked and audited.
3. Validate MFA challenge for approval actions.
4. Validate Step-2 reject transitions to Rework with reason.
5. Validate resubmitted version restarts chain per policy.
6. Validate delegation is time-bounded and auditable.

## 13. Client Rollout Variables
- enabled document types
- default chain steps/groups
- per-step SLA hours
- escalation recipients
- quorum configuration
- delegation policy
- identity mode (local or directory-integrated)
