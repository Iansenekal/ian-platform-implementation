# AI Platform Deployment Documentation
## 70.50 Document Workflow + eSign - Audit Trail and Evidence-Pack

LAN-only - POPIA-friendly - Tamper-evident audit - Restricted evidence storage

Document Control
- Document ID: `docs/70-Document-Workflow-eSign/70.50-Audit-Trail-and-Evidence-Pack`
- Filename: `docs/70-Document-Workflow-eSign/70.50-Audit-Trail-and-Evidence-Pack.md`
- Version: `v1.0`
- Date: `2026-02-10`
- Owner: Security + Compliance
- Status: Audit Standard
- Hard requirements: full action auditability; restricted read-only Evidence-Pack after completion; verifiable receipts; log minimization; retention enforcement
- Related docs: `03.30`, `03.40`, `70.30`, `70.40`, `70.11`, `21.45`

## 1. Purpose
- provide on-prem audit evidence for approval workflows
- preserve non-repudiation through attributable, tamper-evident records
- avoid leaking sensitive document content while retaining required metadata

## 2. Audit Trail Objectives
Must be provable for each action:
- who acted and with which role/group
- what action/decision occurred
- which document/version/hash was affected
- when action occurred (UTC timeline)
- how action was performed (UI/email) and MFA context
- why action occurred (reject/reroute reasons)
- which policy/template version governed the action

## 3. POPIA Data Minimization
- never log full document content
- log identifiers, hashes, and required metadata only
- avoid unnecessary sensitive personal fields
- restrict Evidence-Pack access to minimum auditor/compliance roles

## 4. Evidence-Pack Concept
- dedicated restricted Nextcloud evidence area separate from working docs
- stores receipts and structured summaries for workflow proof
- becomes read-only after workflow completion for a version
- supports retention/legal hold/audit export controls

## 5. Recommended Storage Location
- root: `/ <Tenant> /Evidence-Pack/`
- segregate by project/site/department to avoid cross-scope exposure
- external sharing disabled by default for Evidence-Pack

## 6. Standard Folder Structure
Recommended per version:
- `00-summary.json`
- `10-workflow-instance.json`
- `20-approvals/`
- `30-signatures/`
- `40-emails/` (metadata only)
- `50-hashes/`
- `60-policy-context/`
- `90-export/` (controlled)

## 7. Required Evidence Artifacts
### 7.1 Summary file
- document/version/hash/workflow state and pointers to receipts/events
- includes retention class and legal hold state

### 7.2 Workflow instance record
- template ID/version, step model, SLA/escalation policy
- step activation/decision timeline and escalation counts

### 7.3 Approval and signature receipts
- one per decision, including hash reference and signature proof
- email flow metadata may include token issuance references, never secret tokens

## 8. Audit Event Stream
- emit minimal structured events to centralized logging
- include `correlation_id` for linkage to Evidence-Pack
- sources: UI action, email action, admin tools, optional automation

## 9. Tamper-Evidence Model
- receipts signed by server-side signing key
- Evidence-Pack ACL lock to read-only post-completion
- optional periodic integrity checks on receipt inventory
- verification mismatch treated as security incident

## 10. Evidence-Pack Access Model
- restricted roles: compliance, auditors, limited admins
- project members do not receive implicit evidence access
- auditors are read-only
- evidence admins require MFA and full audit trails for admin actions

## 11. Retention and Legal Hold
- evidence retention typically exceeds draft retention
- legal hold preserves both document and evidence artifacts
- purge operations must be policy-bound and auditable

## 12. Audit Export Procedure
- authorized auditor initiates export bundle creation
- include summary, workflow instance, receipts, and verification key references
- apply minimization/redaction rules for export payloads
- optional policy-driven export approval chain

## 13. Verification Checklist
1. Complete workflow and confirm expected Evidence-Pack tree and files.
2. Confirm receipts exist for each decision and include hash references.
3. Verify one receipt signature with approved public key.
4. Confirm Evidence-Pack is read-only after completion.
5. Confirm central logs `correlation_id` values match receipt references.
6. Validate retention purge behavior and legal hold protection.

## 14. Client Rollout Variables
- Evidence-Pack root path
- evidence access groups/roles
- receipt format choices
- evidence retention durations
- legal hold approver group
- audit export policy and approvals
- integrity check cadence
