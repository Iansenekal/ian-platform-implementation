# 83.00 End-to-End Connectivity Tests (AI-FRONTEND01 -> AI-DATA01 -> LLM Pointer Server)

Document ID: `docs/83-PrePhase-Integration/83.00-EndToEnd-Connectivity-Tests`  
Version: `v1.0`  
Date: `2026-02-10`  
Owner: `Platform Ops`  
Status: `Mandatory pre-phase verification`

## Purpose
Deterministic pre-bootstrap validation of network, DNS, ports, and internal TLS pathing across frontend, data/gateway, and LLM pointer server.

## PASS Criteria
- AI-FRONTEND01 reaches AI-DATA01 gateway on intended ports only.
- AI-DATA01 reaches LLM pointer endpoint on allowlisted port.
- DNS resolves internal names consistently on all nodes.
- Internal TLS certs are valid for internal hostnames.
- Firewall proof captured: allowlisted PASS, non-allowlisted FAIL.

## Inputs (example rollout)
- LAN CIDR: `10.10.5.0/24`
- AI-DATA01: `10.10.5.178`
- AI-FRONTEND01: `10.10.5.179`
- LLM pointer: `10.10.5.177`
- DNS: `10.10.5.160`
- Search domain: `lab.local`
- Gateway hostname: `api.lab.local`
- Frontend hostname: `ui.lab.local`
- LLM hostname: `llm.lab.local`

## Repo Automation
- Inputs: `infrastructure/prephase/tests/83.00-connectivity-inputs.env.example`
- Runner: `infrastructure/prephase/tests/83.00-end-to-end-connectivity.sh`
- Evidence checklist: `infrastructure/prephase/tests/83.00-evidence-checklist.md`

## Execution
1. Copy and fill env file.
2. Run from an admin node with SSH access to all three hosts:
   - `bash infrastructure/prephase/tests/83.00-end-to-end-connectivity.sh --env-file infrastructure/prephase/tests/83.00-connectivity-inputs.env`
3. Store logs/evidence under compliance pack per `06.40`.

## Test Sections
1. DNS resolution from all nodes.
2. Basic reachability and route sanity.
3. Port reachability assertions:
   - frontend -> gateway pass
   - frontend -> data stores fail
   - data -> llm pass
   - frontend -> llm policy-based
4. Internal TLS certificate subject/issuer/date checks.
5. Listener and UFW proof from all nodes.
6. Minimal chain sanity: frontend->gateway health + data->llm tags.

## Completion
All mandatory checks pass and evidence is archived before bootstrap gate sign-off.
